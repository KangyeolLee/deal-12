(()=>{"use strict";function e(e){return Boolean(e&&e.toString().startsWith("class "))}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n{constructor({$app:e,routes:n,fallback:s="/"}){t(this,"routes",{}),t(this,"fallback","/"),this.$app=e,this.fallback=s,this.generateRoutes(n),this.initEvent()}generateRoutes(e){e.forEach((e=>{this.routes[e.path]=e}))}initEvent(){window.addEventListener("hashchange",(()=>this.onHashChangeHandler()))}getRoute(e){const t=this.routes[e];if(!t)throw new Error(`Not found route: ${e}`);return t}hasRoute(e){return void 0!==this.routes[e]}async getComponent(t){const n=(s=t.component,Boolean(s&&"function"==typeof s)&&!e(t.component)?t.component():t.component);var s;if(function(e){return Boolean(e&&"function"==typeof e.then)}(n)){const e=await n;return e.default?e.default:e}return n}async onHashChangeHandler(){this.$app.innerHTML="";const t=window.location.hash.substr(1),n=this.hasRoute(t)?this.getRoute(t):this.getRoute(this.fallback);if(n.redirect)return void this.push(n.redirect);if(n.middlewares)for(const e of n.middlewares)if(!await e())return;const s=await this.getComponent(n);if("string"==typeof s)this.$app.innerHTML=s;else if(s instanceof HTMLElement){var i;null===(i=this.$app)||void 0===i||i.appendChild(s)}else{if(!e(s))throw new Error("invalid component");new s(this.$app)}}push(e){window.location.hash=e}}let s;class i{constructor(e,t){this.$target=e,this.$props=t,this.setup(),this.render(),this.setEvent()}setup(){}mounted(){}template(){return""}render(){const e=this.template();e&&(this.$target.innerHTML=e),this.mounted()}setEvent(){}setState(e){this.$state={...this.$state,...e},this.render()}addEvent(e,t,n){const s=[...this.$target.querySelectorAll(t)];this.$target.addEventListener(e,(e=>{if(i=e.target,!s.includes(i)&&!i.closest(t))return!1;var i;n(e)}))}}class a extends i{template(){const{name:e,small:t}=this.$props;return`<div class="${t?"icon-btn small":"icon-btn"}" style="background-image: url(../../../../assets/${e}.svg)"></div>`}}class r extends i{template(){const{headerType:e,title:t}=this.$props;switch(e){case"main":return`\n        <div class="header main">\n            <div class="header__left-icon" id="category"></div>\n            <div class="location">\n              <div id="loc" style="width: 1.6rem; height: 1.6rem; overflow: hidden; margin-right: 0.4rem;"></div>\n              <div>${t}</div>\n            </div>\n            <div class="header__right-icon" style="display: flex;">\n                <div id="user" style="margin-right: 1.6rem"></div>\n                <div id="menu"></div>\n            </div>\n        </div>`;case"menu-white":return`\n        <div class="header menu-white">\n            <div class="header__left-icon" id="left"></div>\n            <div>${t}</div>\n            <div class="header__right-icon" id="right"></div>\n        </div>`;case"menu-off-white":return`\n        <div class="header menu-off-white">\n            <div class="header__left-icon" id="left"></div>\n            <div>${t}</div>\n        </div>`;case"menu-invisible":return'\n        <div class="header menu-invisible">\n            <div class="header__left-icon" id="left"></div>\n            <div class="header__right-icon" id="right"></div>\n        </div>';default:return""}}mounted(){const{headerType:e,extraIconName:t}=this.$props;switch(e){case"main":const e=this.$target.querySelector("#category");new a(e,{name:"category"});const n=this.$target.querySelector("#user");new a(n,{name:"user"});const s=this.$target.querySelector("#menu");new a(s,{name:"menu"});const i=this.$target.querySelector("#loc");new a(i,{name:"pinmap-white"});break;case"menu-white":new a(this.$target.querySelector("#left"),{name:"left"}),new a(this.$target.querySelector("#right"),{name:t});break;case"menu-off-white":const r=this.$target.querySelector("#left");new a(r,{name:"left"});break;case"menu-invisible":new a(this.$target.querySelector("#left"),{name:"left-white"}),new a(this.$target.querySelector("#right"),{name:"more-white"})}}}class l extends i{template(){const{imgType:e,img:t}=this.$props;return`<div style="background-image: url('${t}')" class="imgbox-${e}"></div>`}}class o extends i{setup(){this.$state={isLiked:!1}}template(){const{title:e,price:t,location:n,timestamp:s,chatNum:i,likeNum:a}=this.$props;return`\n    <div class="item-box">\n        <div id="img-box"></div>\n        <div id="icon-btn"></div>\n        <div class="info">\n            <div>\n                <div class="info__title">${e}</div>\n                <div class="info__location">${n} ∙ ${s}</div>\n                <div class="info__price">${t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}원</div>\n            </div>\n            <div class="info__counts">\n                ${0!==i&&`<div class="info__counts--count">\n                      <div id="chat-icon"></div>\n                      <div>${i}</div>\n                  </div>`}\n                ${0!==a&&`<div class="info__counts--count">\n                      <div id="heart-icon"></div>\n                      <div>${a}</div>\n                  </div>`}\n            </div>\n        </div>\n    </div>\n    <div class="line"></div>\n    `}mounted(){const{pageName:e,img:t}=this.$props,{isLiked:n}=this.$state,s=this.$target.querySelector("#img-box");new l(s,{imgType:"large",img:t});const i=this.$target.querySelector("#icon-btn");let r="";r="menu"===e?"more":n?"heart-fill":"heart",new a(i,{name:r});const o=this.$target.querySelector("#chat-icon");o.style.width="1.6rem",o.style.height="1.6rem";const c=this.$target.querySelector("#heart-icon");new a(o,{name:"chat-small",small:!0}),new a(c,{name:"heart-small",small:!0})}setEvent(){this.addEvent("click",".item-box",(({target:e})=>{console.log(e.className),"icon-btn"===e.className?this.setState({isLiked:!this.$state.isLiked}):s.push("/post/:id")}))}}const c=[];[0,0,0,0,0,0,0,0,0].forEach((()=>{c.push({title:"우아한 옷 팔아요",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",price:69e3,location:"역삼동",timestamp:"3시간 전",chatNum:1,likeNum:1,pageName:"home"})}));class d extends i{template(){return'\n    <header></header>\n    <div class="item-list" id="result-item-list"></div>\n    '}mounted(){const{category:e}=this.$props,t=this.$target.querySelector("header");new r(t,{title:e,headerType:"menu-off-white"});const n=this.$target.querySelector("#result-item-list");c.forEach((e=>{const t=document.createElement("div");null==n||n.append(t),new o(t,e)}));const s=this.$target.querySelector("#left");null==s||s.addEventListener("click",(()=>{this.$target.className="modal-close"}))}}const u=[{id:1,name:"디지털기기"},{id:2,name:"생활/가전"},{id:3,name:"가구/인테리어"},{id:4,name:"게임/취미"},{id:5,name:"생활/가공식품"},{id:6,name:"스포츠/레저"},{id:7,name:"여성패션/잡화"},{id:8,name:"남성패션/잡화"},{id:9,name:"유아동"},{id:10,name:"뷰티/미용"},{id:11,name:"반려동물"},{id:12,name:"도서/티켓/음반"},{id:13,name:"식물"},{id:14,name:"기타 중고물품"}];class h extends i{template(){const{name:e}=this.$props;return`<div class="category-btn"><div class="box"></div><div class="name">${e}</div></div>`}setEvent(){const{name:e,handleCategory:t}=this.$props;this.addEvent("click",".category-btn",(()=>{t(e)}))}}class m extends i{setup(){this.$state={category:"전체"}}template(){return'\n    <header></header>\n    <div class="category-wrapper"></div>\n    <div id="category-result-modal" class="modal-close"></div>\n    '}mounted(){const e=this.$target.querySelector("header");new r(e,{title:"카테고리",headerType:"menu-off-white"});const t=this.$target.querySelector(".category-wrapper");u.forEach((e=>{const n=document.createElement("div");new h(n,{id:e.id,name:e.name,handleCategory:e=>{this.setState({category:e}),this.$target.querySelector("#category-result-modal").className="modal-open"}}),null==t||t.append(n)}));const n=this.$target.querySelector("#category-result-modal");new d(n,{category:this.$state.category});const s=this.$target.querySelector("#left");null==s||s.addEventListener("click",(()=>{this.$target.className="modal-close"}))}}class p extends i{template(){const{buttonType:e,title:t,isClicked:n}=this.$props;return`\n    <button id="button" class="${e} ${n?"active":""}">\n        ${t||""}\n    </button>`}mounted(){const{title:e}=this.$props;if(!e){var t;const e=document.createElement("div");new a(e,{name:"add-white"}),null===(t=this.$target.querySelector("#button"))||void 0===t||t.append(e)}}setEvent(){var e;const{handleClick:t}=this.$props;null===(e=this.$target.querySelector("#button"))||void 0===e||e.addEventListener("click",(()=>{t()}))}}class v extends i{template(){const{checked:e,username:t,content:n,timestamp:s,img:i}=this.$props;return`\n    <div class="chat-list__item ${e?"checked":""}">\n      <div class="user-section">\n        <div class="user-section__detail">\n          <h6 class="username">${t}</h6>\n          <p class="content">${n}</p>\n        </div>\n        <span class="timestamp">${s}</span>\n      </div>\n      <div class="image-wrapper"></div>\n    </div>\n    `}mounted(){const{img:e}=this.$props,t=this.$target.querySelector(".image-wrapper"),n=this.$target.querySelector(".chat-list__item");new l(t,{imgType:"small",img:e}),null==n||n.addEventListener("click",(()=>s.push("/chat/:id")))}}const g=[{id:"sell-list",title:"판매목록"},{id:"chat-list",title:"채팅"},{id:"like-list",title:"관심목록"}],$=["등록한 상품이 없습니다.","채팅 기록이 없습니다.","관심을 표시한 상품이 없습니다."],y=[];[0,0,0,0,0,0,0,0,0].forEach((()=>{y.push({title:"우아한 옷 팔아요",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",price:69e3,location:"역삼동",timestamp:"3시간 전",chatNum:1,likeNum:1,pageName:"home"})}));const f=[];[0,0].forEach((()=>{f.push({title:"우아한 옷 팔아요",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",price:69e3,location:"역삼동",timestamp:"3시간 전",chatNum:1,likeNum:1,pageName:"home"})}));const w=[{username:"UserE",timestamp:"1분 전",content:"실제로 신어볼 수 있는 건가요?",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",checked:!0},{username:"UserD",timestamp:"1시간 전",content:"감사합니다 :)",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",checked:!1}];class b extends i{setup(){this.$state={menu:"sell-list"}}template(){return'\n    <header></header>\n    <div id="tap-bar"></div>\n    <div class="menu-wrapper"></div>\n    '}mounted(){const{menu:e}=this.$state,t=this.$target.querySelector("header");new r(t,{title:"메뉴",headerType:"menu-off-white"});const n=this.$target.querySelector("#tap-bar");g.forEach((t=>{const s=document.createElement("div");s.id=t.id,new p(s,{buttonType:"tap",title:t.title,isClicked:this.$state.menu===s.id,handleClick:()=>{e!==t.id&&this.setState({menu:t.id})}}),null==n||n.append(s)}));const s=this.$target.querySelector(".menu-wrapper")||document.createElement("div");switch(e){case"sell-list":y.length>0?y.forEach((e=>{const t=document.createElement("div");null==s||s.append(t),new o(t,e)})):(s.innerHTML=$[0],s.className="no-data");break;case"chat-list":w.length>0?w.forEach((e=>{const t=document.createElement("div");null==s||s.append(t),new v(t,e)})):(s.innerHTML=$[1],s.className="no-data");break;case"like-list":f.length>0?f.forEach((e=>{const t=document.createElement("div");null==s||s.append(t),new o(t,e)})):(s.innerHTML=$[2],s.className="no-data")}}setEvent(){this.addEvent("click","#left",(()=>{this.$target.className="modal-close"}))}}class S extends i{template(){const{placeholder:e,type:t,size:n,id:s}=this.$props;return`\n      <input id="${s||""}" class="text-input size-${n}" placeholder="${e}" type="${t}" />\n    `}}class E extends i{template(){return'\n      <div class="user-email"></div>\n      <div class="login-btn"></div>\n      <span class="link-to-register">회원가입</span>\n    '}mounted(){const e=this.$target.querySelector(".user-email"),t=this.$target.querySelector(".login-btn");new S(e,{type:"email",placeholder:"아이디를 입력하세요.",size:"large"}),new p(t,{buttonType:"large",title:"로그인",handleClick:()=>console.log("로그인 폼 제출!")})}setEvent(){this.addEvent("click",".link-to-register",(()=>s.push("/register")))}}class q extends i{setup(){}template(){return'\n      <header></header>\n      <form class="authentication"></form>\n    '}mounted(){const e=this.$target.querySelector("header"),t=this.$target.querySelector(".authentication");new r(e,{title:"로그인",headerType:"menu-off-white"}),new E(t)}}class k extends i{setup(){const{offset:e}=this.$props,t=document.createElement("ul");t.classList.add("dropdown",e),this.$target.append(t),this.$target.style.position="relative"}mounted(){var e;const{lists:t,offset:n}=this.$props,s=this.$target.querySelector(".dropdown"),i=null==s?void 0:s.parentElement;t.forEach((e=>{const{isWarning:t,text:n,onclick:i}=e,a=document.createElement("li");a.classList.add("dropdown-item"),t&&a.classList.add("warning"),a.innerText=n,a.addEventListener("click",(()=>i())),s.append(a)})),null===(e=this.$target)||void 0===e||e.classList.add(n),null==i||i.addEventListener("click",(e=>(e=>{e.stopPropagation(),s.className.includes("open-dropdown")?s.classList.remove("open-dropdown"):s.classList.add("open-dropdown")})(e)))}setEvent(){const{onclick:e}=this.$props;this.addEvent("click","li",e)}}const x=[];[0,0,0,0,0,0,0,0,0].forEach((()=>{x.push({title:"우아한 옷 팔아요",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",price:69e3,location:"역삼동",timestamp:"3시간 전",chatNum:1,likeNum:1,pageName:"home"})}));class L extends i{setup(){this.$state={isLiked:!1}}template(){const{price:e}=this.$props;return`\n      <div class="product-bar-details">\n        <div class="image-wrapper"></div>\n        <span class="product-price">${e}</span>\n      </div>\n      <div class="button"></div>\n    `}mounted(){const{isLiked:e}=this.$state,t=this.$target.querySelector(".image-wrapper"),n=this.$target.querySelector(".button");new a(t,{name:e?"heart-fill":"heart"}),new p(n,{buttonType:"medium",title:"채팅 목록 보기",handleClick:()=>s.push("/chat")})}setEvent(){this.addEvent("click",".icon-btn",(({target:e})=>{"icon-btn"===e.className&&this.setState({isLiked:!this.$state.isLiked})}))}}class N extends i{template(){const{name:e,location:t}=this.$props;return`\n      <p class="sub-title">판매자 정보</p>\n      <div class="user-area">\n        <p class="username">${e}</p>\n        <p class="location">${t}</p>\n      </div>\n    `}}class T extends i{template(){const{text:e,readonly:t}=this.$props;return`\n        <span>${e}</span>\n        <div class="icon-button ${t?"hidden":""}"></div>\n    `}mounted(){const{readonly:e}=this.$props,t=this.$target.querySelector(".icon-button"),n=this.$target;e||(new a(t,{name:"down-xs"}),new k(n,{lists:[{text:"예약중으로 변경",isWarning:!1,onclick:()=>console.log("예약중")},{text:"판매완료로 변경",isWarning:!1,onclick:()=>console.log("판매완료")}],offset:"left"}))}}class _ extends i{setup(){this.$state={title:"우아한 옷 팔아요",image:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",content:"이 옷 입으시면 우아한 사람이 될 수 있습니다. 몇 번 안 입어서 저는 우아한 사람이 되지 못한 것 같습니다. 네고 가능해요. 프리사이즈로 남녀노소 모두 입으실 수 있습니다. 연락주세용 제에바알\n        이 옷 입으시면 우아한 사람이 될 수 있습니다. 몇 번 안 입어서 저는 우아한 사람이 되지 못한 것 같습니다. 네고 가능해요. 프리사이즈로 남녀노소 모두 입으실 수 있습니다. 연락주세용 제에바알",price:"69,000원",users:{name:"우아해지고 싶은 사람",location:"역삼동"}}}template(){const{title:e,content:t}=this.$state;return`\n      <div class="product-wrapper">\n        <header></header>\n        <div class="product-detail">\n          <div class="image-wrapper"></div>\n          <div class="content">\n            <div class="status-button"></div>\n            <div class="product-description">\n              <h1 class="product-title">${e}</h1>\n              <p class="category">기타 중고물품 · 3시간 전</p>\n              <p class="desc">${t}</p>\n              <p class="more-info"> 채팅 0 · 관심 0 · 조회 1 </p>\n            </div>\n            <div class="user-specification"></div>\n          </div>\n          <div class="dropdown-area"></div>\n        </div>\n        <div class="product-bar"></div>\n      <div>\n    `}mounted(){const{price:e,image:t}=this.$state,n=this.$target.querySelector(".product-bar"),i=this.$target.querySelector("header"),a=this.$target.querySelector(".user-specification"),o=this.$target.querySelector(".status-button"),c=this.$target.querySelector(".image-wrapper");new r(i,{headerType:"menu-invisible"}),new L(n,{price:e}),new l(c,{imgType:"gradient",img:t}),new N(a,this.$state.users),new T(o,{text:"판매중"});const d=null==i?void 0:i.querySelector("#right");new k(d,{lists:[{text:"수정하기",isWarning:!1,onclick:()=>console.log("수정이벤트 발생")},{text:"삭제하기",isWarning:!0,onclick:()=>console.log("삭제이벤트 발생")}],offset:"right"});const u=null==i?void 0:i.querySelector("#left");null==u||u.addEventListener("click",(()=>s.push("/home")))}}class C extends i{template(){const{title:e,price:t}=this.$props;return`\n      <div class="product-intro">\n        <div class="image-wrapper"></div>\n        <div class="product-intro__detail">\n          <h6 class="title">${e}</h6>\n          <p class="price">${t}</p>\n        </div>\n      </div>\n      <div class="status-button"></div>\n    `}mounted(){const{image:e}=this.$props,t=this.$target.querySelector(".status-button"),n=this.$target.querySelector(".image-wrapper");new T(t,{text:"판매중",readonly:!0}),new l(n,{imgType:"small",img:e})}}class I extends i{template(){const{userId:e,message:t}=this.$props;return`\n      <div class="chat-bubbles__message ${"userA"===e?"by-me":"by-partner"}">\n        <p class="content">${t}</p>\n      </div>\n    `}}class H extends i{setup(){}template(){return'\n      <form class="chat-form">\n        <div class="input-wrapper"></div>\n        <div class="send-button">send</div>\n      </form>\n    '}mounted(){const e=this.$target.querySelector(".input-wrapper"),t=this.$target.querySelector(".send-button");new S(e,{type:"text",size:"medium",placeholder:"메시지를 입력하세요."}),new a(t,{name:"end-off"})}setEvent(){this.addEvent("input","input",(()=>{const e=this.$target.querySelector(".send-button"),t=this.$target.querySelector("input");null!=t&&t.value?new a(e,{name:"end-on"}):new a(e,{name:"end-off"})}))}}class A extends i{template(){const{message:e,btnText:t,isAlert:n}=this.$props;return`\n      <div class="input-popup">\n        <h6 class="sub-title">${e}</h6>\n        <div class="input-wrapper ${n?"hidden":""}"></div>\n        <div class="buttons-area">\n          <div class="close-btn">취소</div>\n          <div class="confirm-btn ${n?"alert":""}">${t}</div>\n        </div>\n      </div>\n    `}mounted(){const{isAlert:e}=this.$props;if(!e){const e=this.$target.querySelector(".input-wrapper");new S(e,{placeholder:"시·구 제외, 동만 입력",type:"text",size:"medium"})}}setEvent(){const{isAlert:e}=this.$props,t=this.$target;this.addEvent("click",".close-btn",(function(){t.classList.remove("modal-open")})),e||this.addEvent("input","input",(()=>{const e=this.$target.querySelector(".confirm-btn"),t=this.$target.querySelector("input");null!=t&&t.value?null==e||e.classList.add("on"):null==e||e.classList.remove("on")}))}}const j=[{userId:"userE",message:"안녕하세요! 궁금한게 있는데요",checked:!0,roomId:1},{userId:"userA",message:"네 안녕하세요!",checked:!0,roomId:1},{userId:"userE",message:"혹시",checked:!0,roomId:1},{userId:"userE",message:"실제로 신어볼 수 있는건가요??",checked:!1,roomId:1}];class R extends i{template(){return'\n    <div class="img-btn"></div>'}mounted(){const{btnType:e,imgNum:t,addImg:n,img:s}=this.$props,i=this.$target.querySelector(".img-btn");new l(i,{imgType:"medium",img:s});const r=this.$target.querySelector(".imgbox-medium");if("add"===e){const e=document.createElement("input");e.type="file",e.className="file-input",e.onchange=n,null==i||i.append(e),new a(r,{name:"image"});const s=document.createElement("div");s.innerHTML=`<div><span class=${0!==t?"img-num":""}>${t||0}</span>/10</div>`,null==r||r.append(s)}else{const e=document.createElement("div");e.className="del-btn",new a(e,{name:"close-white"}),null==i||i.append(e)}}}class z extends i{template(){const{type:e,text:t}=this.$props;return`\n      <div class="location-button ${e}">\n        <small class="text">${t}</small>\n        <div class="image-wrapper"></div>\n      </div>\n    `}mounted(){const{type:e}=this.$props,t=this.$target.querySelector(".image-wrapper");switch(e){case"active":new a(t,{name:"close-mint"});break;case"add":new a(t,{name:"add-mint"})}}setEvent(){var e;const t=null===(e=this.$target.parentElement)||void 0===e?void 0:e.parentElement;this.addEvent("click",".add",(()=>function(){const e=null==t?void 0:t.querySelector(".location-modal");null==e||e.classList.add("modal-open")}()))}}const M=document.querySelector("#app"),W=[{path:"/",redirect:"/home"},{path:"/home",component:class extends i{template(){return'\n    <header></header>\n    <div class="item-list"></div>\n    <div id="menu-modal" class="modal-close"></div>\n    <div id="category-modal" class="modal-close"></div>\n    <div class="post-new-btn"></div> \n    <div id="user-modal" class="modal-close"></div>\n    '}mounted(){const e=this.$target.querySelector("header");new r(e,{title:"역삼동",headerType:"main"});const t=this.$target.querySelector(".item-list");x.forEach((e=>{const n=document.createElement("div");null==t||t.append(n),new o(n,e)}));const n=this.$target.querySelector(".post-new-btn");new p(n,{buttonType:"fab",handleClick:()=>{s.push("/post/new")}});const i=this.$target.querySelector("#category-modal")||document.createElement("div");new m(i);const a=this.$target.querySelector("#menu-modal")||document.createElement("div");new b(a);const l=this.$target.querySelector("#user-modal")||document.createElement("div");new q(l);const c=this.$target.querySelector("#category");null==c||c.addEventListener("click",(()=>{i.className="modal-open"}));const d=this.$target.querySelector("#menu");null==d||d.addEventListener("click",(()=>{a.className="modal-open"}));const u=this.$target.querySelector("#user");null==u||u.addEventListener("click",(()=>{l.className="modal-open"}));const h=this.$target.querySelector(".location");new k(h,{lists:[{text:"역삼동",isWarning:!1,onclick:()=>console.log("역삼동 설정 완료!!")},{text:"내 동네 설정하기",isWarning:!1,onclick:()=>s.push("/location")}],offset:"center"}),this.$target.querySelectorAll("#left").forEach((e=>{e.addEventListener("click",(()=>{var t,n;(null===(t=e.parentNode)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n.parentNode).className="modal-close"}))}))}}},{path:"/post",component:_},{path:"/post/:id",component:_},{path:"/post/new",component:class extends i{setup(){this.$state={title:null,price:null,content:null,files:[],imgs:[]}}template(){const e='\n    <div style="padding: 0 1.6rem; box-sizing: border-box;">\n        <div class="line"></div>\n    </div>';return`\n    <header></header>\n    <div class="new-post-wrapper">\n        <div class="img-list"></div>\n        ${e}\n        <div class="post-container">\n            <input id="title" placeholder="글 제목" />\n            ${e}\n            <input id="price" placeholder="₩ 가격(선택사항)"/>\n            ${e}\n            <textarea id="content" rows=8 placeholder="게시글 내용을 작성해주세요."></textarea>\n        </div>\n    </div>\n\n    <div class="loc-footer">\n        <div id="loc" style="width: 1.6rem; height: 1.6rem; overflow: hidden; margin-right: 0.4rem;"></div>\n        <div>역삼동</div>\n    </div>\n    `}mounted(){const e=this.$target.querySelector("header");new r(e,{title:"글쓰기",headerType:"menu-white",extraIconName:"check-disable"});const t=this.$target.querySelector("#loc");new a(t,{name:"pinmap"});const n=this.$target.querySelector(".img-list");new R(n,{btnType:"add",imgNum:this.$state.imgs.length,addImg:e=>{const t=new FileReader,n=e.target.files[0];t.onloadend=()=>{this.setState({files:[...this.$state.files,n],imgs:[...this.$state.imgs,t.result]})},t.readAsDataURL(n)}}),this.$state.imgs.forEach(((e,t)=>{const s=document.createElement("div");s.id=`img-del-${t}`,s.className="img-del",new R(s,{btnType:"delete",img:e}),null==n||n.append(s)}));const s=null==e?void 0:e.querySelector("#left");null==s||s.addEventListener("click",(()=>history.back()))}setEvent(){this.$target.addEventListener("input",(e=>{const t=this.$target.querySelector("#title").value,n=this.$target.querySelector("#content").value,s=this.$target.querySelector(".header__right-icon");new a(s,t&&n?{name:"check-active"}:{name:"check-disable"})})),this.addEvent("click",".del-btn",(({target:e})=>{var t,n;const s=(null===(t=e.parentNode)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n.parentNode).id.split("img-del-")[1];this.setState({files:this.$state.files.filter(((e,t)=>Number(s)!==t)),imgs:this.$state.imgs.filter(((e,t)=>Number(s)!==t))})}))}}},{path:"/chat",component:class extends i{setup(){this.$state=[{username:"UserE",timestamp:"1분 전",content:"실제로 신어볼 수 있는 건가요?",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",checked:!0},{username:"UserD",timestamp:"1시간 전",content:"감사합니다 :)",img:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",checked:!1}]}template(){return'\n      <header></header>\n      <div class="chat-lists"></div>\n    '}mounted(){const e=this.$target.querySelector("header"),t=this.$target.querySelector(".chat-lists"),n=this.$state;new r(e,{headerType:"menu-off-white",title:"채팅하기"}),n.forEach((e=>{const n=document.createElement("div");null==t||t.append(n),new v(n,e)}));const i=null==e?void 0:e.querySelector("#left");null==i||i.addEventListener("click",(()=>s.push("/post")))}}},{path:"/chat/:id",component:class extends i{setup(){this.$state={title:"우아한 옷 팔아요",image:"https://flexible.img.hani.co.kr/flexible/normal/700/1040/imgdb/original/2021/0428/20210428504000.jpg",price:"169,000원"}}template(){return'\n      <div class="chat-root">\n        <header></header>\n        <div class="product-info"></div>\n        <div class="chat-bubbles"></div>\n        <div class="chatbar"></div>\n        <div class="chat-modal"></div>\n      </div>\n    '}mounted(){const e=this.$target.querySelector("header"),t=this.$target.querySelector(".chat-bubbles"),n=this.$target.querySelector(".chatbar"),i=this.$target.querySelector(".product-info"),a=this.$target.querySelector(".chat-modal");new r(e,{headerType:"menu-white",extraIconName:"logout",title:"UserE"}),new H(n),new C(i,this.$state),new A(a,{message:"정말로 이 채팅방을 나가시겠습니까?",btnText:"나기기",isAlert:!0}),j.forEach((e=>{const n=document.createElement("div");null==t||t.append(n),new I(n,e)}));const l=null==e?void 0:e.querySelector("#left");null==l||l.addEventListener("click",(()=>s.push("/chat")));const o=this.$target.querySelector("#right");null==o||o.addEventListener("click",(()=>{console.log("asdf"),a.classList.add("modal-open")}))}}},{path:"/register",component:class extends i{template(){return'\n      <header></header>\n      <form class="authentication">\n        <label for="userId">아이디\n          <div class="user-email"></div>\n        </label>\n\n        <label for="userLoc">우리 동네\n          <div class="user-location"></div>     \n        </label>\n\n        <div class="register-btn"></div>\n      </form>\n    '}mounted(){const e=this.$target.querySelector("header"),t=this.$target.querySelector(".user-email"),n=this.$target.querySelector(".user-location"),i=this.$target.querySelector(".register-btn");new r(e,{title:"회원가입",headerType:"menu-off-white"}),new S(t,{type:"email",placeholder:"영문, 숫자 조합 20자 이하",size:"large",id:"userId"}),new S(n,{type:"text",placeholder:"시·구 제외, 동만 입력",size:"large",id:"userLoc"}),new p(i,{buttonType:"large",title:"회원가입",handleClick:()=>console.log("회원가입 폼 제출!")});const a=null==i?void 0:i.querySelector("#button");a.disabled=!0,this.$target.addEventListener("input",(e=>{const t=[...this.$target.querySelectorAll("input")].every((e=>e.value));a.disabled=!t}));const l=this.$target.querySelector("#left");null==l||l.addEventListener("click",(()=>{s.push("/home")}))}}},{path:"/logout",component:class extends i{setup(){this.$state={username:"우아해지고 싶은 사람"}}template(){return`\n      <header></header>\n      <form class="authentication">\n        <div class="user-nickname">${this.$state.username}</div>\n        <div class="logout-btn"></div>\n      </form>\n    `}mounted(){const e=this.$target.querySelector("header"),t=this.$target.querySelector(".logout-btn");new r(e,{title:"내 계정",headerType:"menu-off-white"}),new p(t,{buttonType:"large",title:"로그아웃",handleClick:()=>console.log("로그아웃 폼 제출!")});const n=this.$target.querySelector("#left");null==n||n.addEventListener("click",(()=>{s.push("/home")}))}}},{path:"/location",component:class extends i{setup(){this.$state=[{type:"active",text:"역삼동"}]}template(){return'\n      <header></header>\n      <div id="location">\n        <div class="guide-message">\n          <p>지역은 최소 1개 이상</p>\n          <p>최대 2개까지 설정 가능해요.</p>\n        </div>\n        <div class="button-area"></div>\n        <div class="location-modal"></div>\n      </div>\n    '}mounted(){const e=this.$target.querySelector("header");new r(e,{title:"내 동네 설정하기",headerType:"menu-off-white"});const t=this.$target.querySelector(".button-area"),n=this.$state.slice(0,2);if(1===n.length){const e=document.createElement("div");null==t||t.append(e),new z(e,n[0]);const s=document.createElement("div");null==t||t.append(s),new z(s,{type:"add"})}else n.forEach((e=>{const n=document.createElement("div");null==t||t.append(n),new z(n,e)}));const i=this.$target.querySelector(".location-modal");new A(i,{message:"우리 동네를 입력하세요.",btnText:"확인",isAlert:!1});const a=null==e?void 0:e.querySelector("#left");null==a||a.addEventListener("click",(()=>s.push("/home")))}}}];!async function(){!function(e){const{$app:t}=e;t.addEventListener("click",(e=>{t.querySelectorAll(".dropdown").forEach((e=>{e.className.includes("open-dropdown")&&e.classList.remove("open-dropdown")}))}));const i=new n(e);s={push:e=>i.push(e)},i.onHashChangeHandler()}({$app:M,routes:W})}()})();
//# sourceMappingURL=main.js.map